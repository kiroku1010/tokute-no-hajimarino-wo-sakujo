<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å˜èªå‰Šé™¤ãƒ„ãƒ¼ãƒ«</title>
    <style>
        /* ç°¡å˜ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid #ccc;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        button {
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <h1>ğŸ“ ç‰¹å®šã®å˜èªã‚’å‰Šé™¤ï¼ˆè¡Œä¿æŒï¼‰</h1>
    <p>æŒ‡å®šã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã§å§‹ã¾ã‚‹å˜èªã‚’å‰Šé™¤ã—ã€å…ƒã®è¡Œæ•°ã‚’ä¿ã¡ã¾ã™ã€‚</p>

    <label for="inputText">å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆ:</label>
    <textarea id="inputText" placeholder="ã“ã“ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>

    <button onclick="processText()">å˜èªã‚’å‰Šé™¤ã—ã¦å‡¦ç†</button>

    <label for="outputText">å‡ºåŠ›çµæœ:</label>
    <textarea id="outputText" readonly placeholder="å‡¦ç†çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™..."></textarea>

    <script>
        /**
         * ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡¦ç†ã—ã€æŒ‡å®šã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã§å§‹ã¾ã‚‹å˜èªã‚’å‰Šé™¤ã—ã¾ã™ã€‚
         */
        function processText() {
            // 1. è¦ç´ ã®å–å¾—
            const inputTextarea = document.getElementById('inputText');
            const outputTextarea = document.getElementById('outputText');
            const originalText = inputTextarea.value;

            // 2. å‰Šé™¤ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®šç¾©
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®šã®ãƒ‘ã‚¿ãƒ¼ãƒ³: ky|kw|sy|sh|sw|ty|th|ts|tw|cy|ch|ny|hy|hw|fy|my|ry|wy|gy|zy|dy|dh|by|py|ly|lw|xy|xw|xn|z,|z.|z/
            // ã“ã‚Œã‚‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦å˜èªã®å…ˆé ­(\b)ã«ãƒãƒƒãƒã•ã›ã¾ã™ã€‚
            const patterns = [
                'ky', 'kw', 'sy', 'sh', 'sw', 'ty', 'th', 'ts', 'tw', 'cy', 'ch',
                'ny', 'hy', 'hw', 'fy', 'my', 'ry', 'wy', 'gy', 'zy', 'dy', 'dh',
                'by', 'py', 'ly', 'lw', 'xy', 'xw', 'xn'
            ].join('|'); // ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ '|' ã§çµåˆ

            // 3. æ­£è¦è¡¨ç¾ã®ä½œæˆ
            // \b: å˜èªã®å¢ƒç•Œ (è‹±æ•°å­—ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®åŒºåˆ‡ã‚Š)
            // (${patterns}): å®šç¾©ã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã„ãšã‚Œã‹ã«ãƒãƒƒãƒ
            // \w*: ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å¾Œã«ç¶šãè‹±æ•°å­—ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã‚’ã™ã¹ã¦å«ã‚€
            // /g: ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¤œç´¢ï¼ˆè¡Œå†…ã®ã™ã¹ã¦ã«ãƒãƒƒãƒï¼‰
            // /i: å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„ï¼ˆã“ã“ã§ã¯ãƒ­ãƒ¼ãƒå­—ã‚’æƒ³å®šã—ã¦ã„ã‚‹ãŸã‚å«ã‚ã¦ã„ã¾ã™ï¼‰
            const regex = new RegExp('\\b(' + patterns + ')\\w*', 'gi');

            // 4. ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡Œã”ã¨ã«å‡¦ç†
            // \n: æ”¹è¡Œæ–‡å­—ã§åˆ†å‰²ã—ã€è¡Œã®é…åˆ—ã‚’ä½œæˆ
            const lines = originalText.split('\n');

            const processedLines = lines.map(line => {
                // å„è¡Œã«å¯¾ã—ã¦æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹ç½®æ›ã‚’å®Ÿè¡Œ
                // ãƒãƒƒãƒã—ãŸå˜èªã‚’ç©ºæ–‡å­—åˆ—('')ã«ç½®æ›ã—ã¾ã™ã€‚
                return line.replace(regex, '');
            });

            // 5. çµæœã®çµåˆã¨å‡ºåŠ›
            // å‡¦ç†å¾Œã®è¡Œã®é…åˆ—ã‚’ \n ã§çµåˆã—ç›´ã—ã€è¡Œæ•°ã‚’ä¿ã¡ã¾ã™
            const resultText = processedLines.join('\n');
            outputTextarea.value = resultText;
        }
    </script>

</body>
</html>
